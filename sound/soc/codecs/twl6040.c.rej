diff a/sound/soc/codecs/twl6040.c b/sound/soc/codecs/twl6040.c	(rejected hunks)
@@ -1236,10 +1236,14 @@ void soundcontrol_reportjack(int jack_type)
 {
     if (jack_type == 0) {
 	headset_plugged = false;
-	headset_power_mode(snd_codec, 1);
+
+	if (snd_codec != NULL)
+	    headset_power_mode(snd_codec, 1);
     } else { 
 	headset_plugged = true;
-	headset_power_mode(snd_codec, snd_data->headset_mode);
+
+	if (snd_codec != NULL && snd_data != NULL)
+	    headset_power_mode(snd_codec, snd_data->headset_mode);
     }
 
     return;
